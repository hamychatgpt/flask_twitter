/* استایل‌های مربوط به باکس‌های هوش مصنوعی */

/* استایل‌های مشترک */
.ai-analysis-box, .ai-chat-box {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
    overflow: hidden;
}

.ai-header {
    background-color: #f8f9fa;
    padding: 1rem;
    border-bottom: 1px solid #e9ecef;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.ai-header h3 {
    margin: 0;
    color: #1d76b3;
    font-size: 1.1rem;
    display: flex;
    align-items: center;
}

.ai-icon, .ai-chat-icon, .refresh-icon, .clear-icon, .send-icon {
    display: inline-block;
    width: 20px;
    height: 20px;
    margin-left: 8px;
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
}

.ai-icon {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231d76b3"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/></svg>');
}

.ai-chat-icon {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231d76b3"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"/></svg>');
}

.refresh-icon {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23495057"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>');
}

.clear-icon {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23495057"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>');
}

.send-icon {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>');
}

.refresh-btn, .clear-btn {
    cursor: pointer;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
}

.refresh-btn:hover, .clear-btn:hover {
    background-color: rgba(0, 0, 0, 0.05);
}

.ai-footer {
    border-top: 1px solid #e9ecef;
    padding: 0.75rem 1rem;
    font-size: 0.8rem;
    color: #6c757d;
}

.ai-timestamp {
    display: block;
    text-align: left;
}

/* استایل‌های تحلیل هوش مصنوعی */
.ai-content {
    padding: 1.5rem;
    min-height: 200px;
}

.ai-loading-placeholder {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 200px;
    color: #6c757d;
}

.loading-animation {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top-color: #1da1f2;
    animation: spin 1s ease-in-out infinite;
    margin-bottom: 1rem;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.ai-result {
    line-height: 1.8;
    text-align: justify;
}

.ai-result p {
    margin-bottom: 1rem;
}

.ai-result ul {
    padding-right: 1.2rem;
    margin-bottom: 1rem;
}

.ai-result li {
    margin-bottom: 0.5rem;
}

/* استایل‌های چت با هوش مصنوعی */
.ai-chat-content {
    height: 300px;
    overflow-y: auto;
    padding: 1rem;
    background-color: #f8f9fa;
}

.chat-messages {
    display: flex;
    flex-direction: column;
}

.ai-message, .user-message {
    display: flex;
    margin-bottom: 1rem;
    max-width: 90%;
}

.ai-message {
    align-self: flex-start;
}

.user-message {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.ai-avatar, .user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin: 0 8px;
    flex-shrink: 0;
    background-size: cover;
    background-position: center;
}

.ai-avatar {
    background-color: #1d76b3;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"/></svg>');
}

.user-avatar {
    background-color: #1da1f2;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
}

.message-content {
    padding: 10px 15px;
    border-radius: 18px;
    background-color: white;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    line-height: 1.5;
}

.ai-message .message-content {
    border-top-right-radius: 18px;
    border-top-left-radius: 5px;
    border-bottom-right-radius: 18px;
    border-bottom-left-radius: 18px;
    background-color: white;
}

.user-message .message-content {
    border-top-right-radius: 5px;
    border-top-left-radius: 18px;
    border-bottom-right-radius: 18px;
    border-bottom-left-radius: 18px;
    background-color: #e1f5fe;
}

.ai-chat-input {
    padding: 1rem;
    border-top: 1px solid #e9ecef;
    background-color: white;
}

.ai-chat-input form {
    display: flex;
}

.ai-chat-input input {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 1px solid #ced4da;
    border-radius: 20px;
    font-family: 'Vazir';
}

.ai-chat-input button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: #1da1f2;
    border: none;
    margin-right: 0.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s;
}

.ai-chat-input button:hover {
    background-color: #0c85d0;
}

.ai-chat-input input:focus, .ai-chat-input button:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(29, 161, 242, 0.25);
}

/* پاسخگویی */
@media (max-width: 768px) {
    .ai-chat-content {
        height: 250px;
    }
}